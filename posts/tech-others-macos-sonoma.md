---
title: 'Mac Applicationsフォルダアクセス権'
date: '2023-09-27'
description: 'Mac　アプリケーションフォルダ権限エラーとmacOS14 Sonoma レビュー'
image: item-apple-Sonoma.png
categories: ['技術系ブログ', 'その他(技術系)', 'macOS']
---
## 目次
## まえがき
もともとこの記事では最新macOS Sonomaについてレビューするつもりでした。  
しかしSonomaの新機能を試そうとしたところ、Macの権限関連のエラーが出たので、  
内容は、Macのトラブルシューティングになります.
## Sonomaリリース
日本時間2023/9/27に待望のSonomaがリリースされました。デスクトップにウィジェットが表示できるようになったことが目玉機能なようですね.  
私が一番嬉しい機能は、SafariでWebサイトをドックに追加しpwa化できる機能です。MacがWindowsに劣っていた機能がようやく追加されました.
### ウィジェット機能
デスクトップ画面を右クリックし、ウィジェットを追加を選択することで、ウィジェットの追加編集ができます。  
Todoリストをデスクトップに表示できるリマインダーのウィジェットがとても便利で、作業効率が上がりそうです。  
2023/9/27ではあまり対応しているアプリはありませんが、今後便利なウィジェットが追加されていくと思います。Notionのウィジェット欲しいな〜

### Dockに追加
本当に待ち侘びていました。この機能。
Windowsではできるのになぜかmacできなかったんですよね！！。
アップデート後、早速googleドライブをドックに追加します

![access-right](/tech-others-macos-sonoma-access-right.png)
フォルダ”アプリケーション”にファイル”.app”を保存するためのアクセス権がありません。  
アクセス権を表示または変更するには、FInderで項目を選択し。”ファイル”>”情報”をみると選択してください。  
...  
指示通り


Finder > ファイル　> 情報を見る　からアクセス権の追加を行います...

![access-right-nothing](/tech-others-macos-sonoma-access-right-nothing.png)
必要なアクセス権がないため。操作は完了できません。  
...(T ^ T)...
めっちゃ楽しみにしていたのにできません
Sonomaのエラーかと思い、Twitterを徘徊しまいたが、同様の症状がいる人がいません。
そこでAppleサーポーに電話で問合せを行いました。

#### エラー解決①
Appleサーポーに電話で問い合わせたのですが、同様の症状の発生例は届いていないようでした。サポート担当者さんと手探りで、トラブルシューティングを行うことに  

##### First Aid  
ディスクユーティリティ > First Aid  
First Aidにはアクセス権を修復する機能があるようです。Macintosh HD・コンテナ・APPLE SSDの全てに対してFirst Aidを行いました。  

結果=>解決せず...　　
##### セーフモードで起動
システム終了 > 電源ボタン長押し　> Sift　+ Macintosh HD > セーフモードで起動　　
セーフモードで起動するとキャッシュクリアされて、OSのみで起動できるようになり、トラブルが解決することがあるようです。  
セーフモードを起動するにはMacの電源が落ちている状態で、電源ボタン長押し、Macintosh HDボタン　オプションボタンを表示させます。その後Shiftボタンを押下するとMacintosh HDボタン下部にセーフモードで起動が表示されるので、押下します。  
　
結果=>解決せず...  
##### 新規ユーザーを追加
システム設定 > ユーザーとグルーブ > ユーザーを追加 > 管理者として追加  
管理ユーザーを追加後、再起動して、追加した管理ユーザでログイン。Dockに追加機能を試しました。  
結果=>解決  

大安心したのも束の間、サーポート担当者さんから残酷な宣告を受けます。  
現在のユーザーからデータを移し、新規ユーザーへ切り替える必要があります。  
それは痛い...  
envファイルの設定など１からやり直すのは大労働です。なんとしても避けたなければ...  
そこでターミナルによる権限変更で解決できないか、相談したところ、Appleのサーポートセンターでは、ターミナル操作をサーポートしておらず自己責任で行ってくださいとのことでした...  

#### エラー解決②
##### ターミナル
ここからは自己責任...  
ChatGptに出ているアラートを打ち込みます。すると  
$sudo chown -R $(whoami) /Applications  
このコマンドを打てと回答がきました。  
早速ターミナルで打ち込みます。ターミナルの開き方は  
LaunchPad > 検索 > ターミナル  

```js[class="line-numbers"]
//ターミナル
$sudo chown -R $(whoami) /Applications

chown: /Applications/Safari.app: Operation not permitted
```

結果=>解決せず  
許可されていないという旨のエラーが吐かれます。そこでルートディレクトリでls -l で現状の権限を把握します　　

```js[class="line-numbers"]
//ターミナル
$ls -l

drwxr-xr-x   14 root  wheel      Applications
drwx------@   7 ユーザー名  staff      Desktop
```
Applicationsフォルダの管理者がrootになっています！これが原因ですね！！  
やはり、chownで権限を変更するという方針は間違っていないようです。  
いろいろ試したところついに！！  

```js[class="line-numbers"]
//ターミナル
$sudo chown ユーザー名 Applications

$ls -l

drwxr-xr-x   14 ユーザー名  wheel      Applications
drwx------@   7 ユーザー名  staff      Desktop
```
$sudo chown ユーザー名 Applications  
コマンドで  
Applicationsフォルダの管理者が現在使用しているユーザー名に変わりました！！  
Dockに追加  
結果=>解決！！

新規ユーザーを作ってお引越しせずに解決することができました。  
諦めなくてよかった。  

## あとがき
#### 勘違いだった


Sonoma待つ必要なかった(T ^ T)  
というのもMacでもChromeのショートカット作成する機能がありました。私のpcのアプリケーションフォルダの権限がrootになっていたせいでDockにアプリを追加できていなかったようです。  
Sonomaがきたおかげで、この問題を発見できたのでよしとすることにします...  

そもそもこの問題が起きた原因は  


```js[class="line-numbers"]
//ターミナル
$sudo chown root Applications
```
を謝って打ってしまったことが原因としか考えられません。  なぜこんなもん打ったんだ過去の自分...  
同じような症状の方の参考になれば嬉しいです。

いないと思いますが（^^;;  
[記事一覧](/)
